import{_ as i,c as a,o as n,ae as e}from"./chunks/framework.CDjunVez.js";const c=JSON.parse('{"title":"Security Best Practices","description":"","frontmatter":{},"headers":[],"relativePath":"docs/deployment/security.md","filePath":"docs/deployment/security.md"}'),t={name:"docs/deployment/security.md"};function l(p,s,h,r,k,o){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="security-best-practices" tabindex="-1">Security Best Practices <a class="header-anchor" href="#security-best-practices" aria-label="Permalink to &quot;Security Best Practices&quot;">​</a></h1><p>Secure your Mist installation in production.</p><h2 id="server-security" tabindex="-1">Server Security <a class="header-anchor" href="#server-security" aria-label="Permalink to &quot;Server Security&quot;">​</a></h2><h3 id="firewall-configuration" tabindex="-1">Firewall Configuration <a class="header-anchor" href="#firewall-configuration" aria-label="Permalink to &quot;Firewall Configuration&quot;">​</a></h3><p>Configure firewall to allow only necessary ports:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># UFW example (Ubuntu/Debian)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deny</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> incoming</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> outgoing</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Allow SSH (change 22 if using custom port)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 22/tcp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Allow HTTP and HTTPS (required for web access and SSL challenges)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 80/tcp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 443/tcp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Allow Mist API (if accessing directly, otherwise only localhost)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8080/tcp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Optional: Allow Traefik dashboard (restrict to specific IPs in production)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8081/tcp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Enable firewall</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Verify rules</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> numbered</span></span></code></pre></div><p><strong>Production Firewall Best Practices:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Restrict Mist API to localhost only (recommended if using Traefik)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8080/tcp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 127.0.0.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> any</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8080</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Restrict Traefik dashboard to localhost only</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8081/tcp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 127.0.0.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> any</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8081</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Or allow only from specific admin IP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> YOUR_ADMIN_IP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> any</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8081</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Allow SSH only from specific IP (very secure)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 22/tcp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> YOUR_ADMIN_IP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> any</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 22</span></span></code></pre></div><h3 id="ssh-hardening" tabindex="-1">SSH Hardening <a class="header-anchor" href="#ssh-hardening" aria-label="Permalink to &quot;SSH Hardening&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Disable root login</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s/PermitRootLogin yes/PermitRootLogin no/&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/ssh/sshd_config</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Disable password auth (use SSH keys only)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s/#PasswordAuthentication yes/PasswordAuthentication no/&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/ssh/sshd_config</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Restart SSH</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sshd</span></span></code></pre></div><h3 id="keep-system-updated" tabindex="-1">Keep System Updated <a class="header-anchor" href="#keep-system-updated" aria-label="Permalink to &quot;Keep System Updated&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Ubuntu/Debian</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Enable automatic security updates</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unattended-upgrades</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dpkg-reconfigure</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -plow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unattended-upgrades</span></span></code></pre></div><h2 id="mist-security" tabindex="-1">Mist Security <a class="header-anchor" href="#mist-security" aria-label="Permalink to &quot;Mist Security&quot;">​</a></h2><h3 id="strong-passwords" tabindex="-1">Strong Passwords <a class="header-anchor" href="#strong-passwords" aria-label="Permalink to &quot;Strong Passwords&quot;">​</a></h3><p>Enforce strong password requirements for all users:</p><ul><li><strong>Minimum length</strong>: 12 characters (16+ recommended)</li><li><strong>Complexity</strong>: Mix of uppercase, lowercase, numbers, and symbols</li><li><strong>No common passwords</strong>: Avoid dictionary words, names, dates</li><li><strong>Use password manager</strong>: 1Password, Bitwarden, LastPass</li><li><strong>Unique per account</strong>: Never reuse passwords</li></ul><p><strong>Owner Account Security:</strong></p><ul><li>The first user account becomes the Owner with full system access</li><li>Use an extremely strong password for the Owner account</li><li>Consider using a hardware security key (coming soon)</li></ul><h3 id="jwt-secret" tabindex="-1">JWT Secret <a class="header-anchor" href="#jwt-secret" aria-label="Permalink to &quot;JWT Secret&quot;">​</a></h3><div class="warning custom-block"><p class="custom-block-title">Hardcoded JWT Secret</p><p>Currently, the JWT secret is <strong>hardcoded</strong> in the application (<code>server/api/middleware/auth.go:14</code>). This is a <strong>security risk</strong> for production deployments.</p><p><strong>Workaround:</strong> Modify the code before deployment:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/mist/server/api/middleware</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Edit auth.go and change line 14 to use a strong random value</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Then rebuild: cd /opt/mist/server &amp;&amp; go build -o ../bin/server main.go</span></span></code></pre></div><p><strong>Upcoming:</strong> Configurable JWT secret via environment variable.</p></div><p>Generate a strong JWT secret:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Generate random 64-character secret</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rand</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -hex</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 32</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Or use this one-liner</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rand</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -base64</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 48</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> tr</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;=+/&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cut</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c1-64</span></span></code></pre></div><h3 id="session-security" tabindex="-1">Session Security <a class="header-anchor" href="#session-security" aria-label="Permalink to &quot;Session Security&quot;">​</a></h3><ul><li><strong>Session duration</strong>: 31 days (hardcoded)</li><li><strong>Sessions</strong> are stored as JWT tokens</li><li><strong>Token expiry</strong>: Automatically logged out after 31 days</li><li><strong>No session revocation</strong>: Currently, there&#39;s no way to force-logout users (coming soon)</li></ul><h3 id="github-webhook-secret" tabindex="-1">GitHub Webhook Secret <a class="header-anchor" href="#github-webhook-secret" aria-label="Permalink to &quot;GitHub Webhook Secret&quot;">​</a></h3><p>GitHub webhook requests are validated using HMAC-SHA256 signatures.</p><p><strong>How it works:</strong></p><ul><li>Webhook secret is automatically generated when creating GitHub App</li><li>Stored securely in Mist database</li><li>All incoming webhook requests are validated before processing</li><li>Invalid signatures are rejected</li></ul><p>Generate a strong webhook secret if creating manually:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Generate webhook secret (only needed for manual setup)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rand</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -hex</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 32</span></span></code></pre></div><p>Configure in: <strong>Settings → Integrations → GitHub App</strong> (automatic during app creation)</p><h2 id="docker-security" tabindex="-1">Docker Security <a class="header-anchor" href="#docker-security" aria-label="Permalink to &quot;Docker Security&quot;">​</a></h2><h3 id="socket-permissions" tabindex="-1">Socket Permissions <a class="header-anchor" href="#socket-permissions" aria-label="Permalink to &quot;Socket Permissions&quot;">​</a></h3><p>The Mist backend requires access to the Docker socket to manage containers:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Verify Docker socket permissions</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -la</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/run/docker.sock</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Should show: srw-rw---- 1 root docker</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Add your user to docker group (done during installation)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usermod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -aG</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $USER</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Log out and back in for group changes to take effect</span></span></code></pre></div><div class="danger custom-block"><p class="custom-block-title">Security Consideration</p><p>Access to the Docker socket = root-level access to the host system. The user running Mist can:</p><ul><li>Create privileged containers</li><li>Mount host filesystem</li><li>Escape container isolation</li></ul><p><strong>Mitigations:</strong></p><ul><li>Run Mist as a non-root user (recommended, default in install script)</li><li>Never expose Mist API publicly without authentication</li><li>Use Docker rootless mode (advanced, requires configuration)</li><li>Monitor Docker events for suspicious activity</li></ul></div><h3 id="container-isolation" tabindex="-1">Container Isolation <a class="header-anchor" href="#container-isolation" aria-label="Permalink to &quot;Container Isolation&quot;">​</a></h3><p>Applications deployed by Mist run in Docker containers with:</p><ul><li><strong>Network isolation</strong>: Apps on <code>traefik-net</code> for controlled routing</li><li><strong>Resource limits</strong>: (coming soon - CPU/memory limits)</li><li><strong>Read-only filesystems</strong>: (coming soon)</li><li><strong>Non-root users</strong>: Depends on Dockerfile used</li></ul><p><strong>Best Practices for Application Dockerfiles:</strong></p><div class="language-dockerfile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dockerfile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Use specific versions, not :latest</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> node:20-alpine</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run as non-root user</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> addgroup -g 1001 -S appuser &amp;&amp; \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    adduser -S appuser -u 1001</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">USER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> appuser</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Use multi-stage builds to reduce attack surface</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Copy only necessary files</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Scan images for vulnerabilities</span></span></code></pre></div><h3 id="image-security" tabindex="-1">Image Security <a class="header-anchor" href="#image-security" aria-label="Permalink to &quot;Image Security&quot;">​</a></h3><ul><li><strong>Official base images</strong>: Use official Docker images (node, python, golang, etc.)</li><li><strong>Image scanning</strong>: (coming soon - automatic vulnerability scanning)</li><li><strong>Keep images updated</strong>: Rebuild periodically with latest base images</li><li><strong>Minimize layers</strong>: Combine RUN commands to reduce image size</li><li><strong>No secrets in images</strong>: Never <code>COPY</code> or embed secrets in Dockerfiles</li></ul><p><strong>Scan images manually:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Install Trivy (vulnerability scanner)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-transport-https</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gnupg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lsb-release</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -qO</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://aquasecurity.github.io/trivy-repo/deb/public.key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;deb https://aquasecurity.github.io/trivy-repo/deb $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lsb_release</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">) main&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tee</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/apt/sources.list.d/trivy.list</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> trivy</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Scan an image</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">trivy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your-app-image:latest</span></span></code></pre></div><h2 id="network-security" tabindex="-1">Network Security <a class="header-anchor" href="#network-security" aria-label="Permalink to &quot;Network Security&quot;">​</a></h2><h3 id="reverse-proxy" tabindex="-1">Reverse Proxy <a class="header-anchor" href="#reverse-proxy" aria-label="Permalink to &quot;Reverse Proxy&quot;">​</a></h3><ul><li>Always use Traefik as reverse proxy</li><li>Never expose application ports directly</li><li>Configure proper CORS headers</li></ul><h3 id="ssl-tls" tabindex="-1">SSL/TLS <a class="header-anchor" href="#ssl-tls" aria-label="Permalink to &quot;SSL/TLS&quot;">​</a></h3><p>Mist provides automatic SSL/TLS certificate provisioning and management.</p><p><strong>Current Features:</strong></p><ul><li>✅ Automatic SSL certificate issuance via Let&#39;s Encrypt</li><li>✅ Automatic certificate renewal (90-day certificates, renewed at 60 days)</li><li>✅ HTTP to HTTPS redirect enabled by default for domains</li><li>✅ TLS 1.2+ encryption (configured by Traefik v3.1)</li><li>✅ Modern cipher suites</li><li>✅ Perfect Forward Secrecy (PFS)</li></ul><p><strong>How it Works:</strong></p><ol><li>User adds domain to application in Mist UI</li><li>Mist updates Traefik configuration with domain routing</li><li>Traefik automatically requests certificate from Let&#39;s Encrypt</li><li>Let&#39;s Encrypt verifies domain ownership via HTTP-01 challenge (port 80)</li><li>Certificate stored in <code>/opt/mist/letsencrypt/acme.json</code></li><li>Traefik serves traffic over HTTPS with automatic HTTP redirect</li></ol><p><strong>Certificate Storage:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># View certificate file</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -la</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/mist/letsencrypt/acme.json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Should show: -rw------- (600 permissions)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Backup certificates</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/mist/letsencrypt/acme.json</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/backups/acme_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +%Y%m%d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.json</span></span></code></pre></div><p><strong>Verify SSL Configuration:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Test SSL connection</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s_client</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -connect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your-domain.com:443</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -servername</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your-domain.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check certificate expiry</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s_client</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -servername</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your-domain.com</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -connect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your-domain.com:443</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> 2&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/dev/null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x509</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -noout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -dates</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Use SSL Labs for comprehensive analysis</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># https://www.ssllabs.com/ssltest/analyze.html?d=your-domain.com</span></span></code></pre></div><p><a href="./../guide/ssl-automation.html">Learn more about SSL automation →</a></p><p><strong>Coming Soon:</strong></p><ul><li>Wildcard SSL certificates (<code>*.example.com</code>)</li><li>Custom certificate upload</li><li>HSTS headers and security policies</li><li>Certificate expiry notifications</li><li>mTLS (mutual TLS) for service-to-service communication</li></ul><h2 id="database-security" tabindex="-1">Database Security <a class="header-anchor" href="#database-security" aria-label="Permalink to &quot;Database Security&quot;">​</a></h2><h3 id="sqlite-file-permissions" tabindex="-1">SQLite File Permissions <a class="header-anchor" href="#sqlite-file-permissions" aria-label="Permalink to &quot;SQLite File Permissions&quot;">​</a></h3><p>The SQLite database contains ALL Mist data including secrets. Protect it carefully:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check current permissions</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -la</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/mist/mist.db</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set restrictive permissions (read/write for owner only)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/mist/mist.db</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Ensure owned by the user running Mist (not root!)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $USER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$USER </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/var/lib/mist/mist.db</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Verify</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -la</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/mist/mist.db</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Should show: -rw------- 1 youruser youruser</span></span></code></pre></div><h3 id="database-encryption" tabindex="-1">Database Encryption <a class="header-anchor" href="#database-encryption" aria-label="Permalink to &quot;Database Encryption&quot;">​</a></h3><div class="warning custom-block"><p class="custom-block-title">Database Not Encrypted</p><p>SQLite database is currently stored in <strong>plaintext</strong> on disk. This means:</p><ul><li>Anyone with file access can read the database</li><li>All secrets (API keys, tokens, env vars) are visible</li><li>Backups should be encrypted separately</li></ul><p><strong>Mitigations:</strong></p><ul><li>Encrypt the entire disk/volume (LUKS, dm-crypt)</li><li>Encrypt backups before uploading to cloud storage</li><li>Restrict server access to trusted administrators only</li><li>Use encrypted backup destinations (encrypted S3 buckets, etc.)</li></ul></div><p><strong>Encrypt backups:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Using GPG</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gpg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --symmetric</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cipher-algo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> AES256</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/backups/mist_backup.db</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Using OpenSSL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -aes-256-cbc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -salt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/backups/mist_backup.db</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/backups/mist_backup.db.enc</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Decrypt when needed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -aes-256-cbc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/backups/mist_backup.db.enc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/backups/mist_backup.db</span></span></code></pre></div><h3 id="backup-security" tabindex="-1">Backup Security <a class="header-anchor" href="#backup-security" aria-label="Permalink to &quot;Backup Security&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Automated encrypted backup script</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +%Y%m%d_%H%M%S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BACKUP_DIR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/var/backups/mist&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_FILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/var/lib/mist/mist.db&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ENCRYPTION_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your-encryption-passphrase&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Store securely!</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Hot backup</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sqlite3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $DB_FILE </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.backup </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$BACKUP_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/mist_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DATE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.db&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Encrypt backup</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -aes-256-cbc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -salt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -pbkdf2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $BACKUP_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/mist_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DATE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.db</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -out</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $BACKUP_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/mist_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DATE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.db.enc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -pass</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pass:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ENCRYPTION_KEY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Remove unencrypted backup</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $BACKUP_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/mist_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DATE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.db</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Keep last 30 days</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $BACKUP_DIR </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;mist_*.db.enc&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mtime</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +30</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -delete</span></span></code></pre></div><p>See <a href="./backup.html">Backup &amp; Recovery</a> for complete backup procedures.</p><h2 id="application-security" tabindex="-1">Application Security <a class="header-anchor" href="#application-security" aria-label="Permalink to &quot;Application Security&quot;">​</a></h2><h3 id="environment-variables-secrets" tabindex="-1">Environment Variables &amp; Secrets <a class="header-anchor" href="#environment-variables-secrets" aria-label="Permalink to &quot;Environment Variables &amp; Secrets&quot;">​</a></h3><p>Environment variables can contain sensitive data (API keys, database passwords, etc.):</p><p><strong>Security Best Practices:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Never commit secrets to Git repositories</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Add .env to .gitignore</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Never log secrets</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Avoid console.log() or print() statements with env vars</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Rotate secrets regularly</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Change API keys every 90 days or after team member leaves</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Use strong random values</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rand</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -hex</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 32</span></span></code></pre></div><p><strong>How Mist Handles Secrets:</strong></p><ul><li>Environment variables stored in SQLite database (plaintext)</li><li>Passed to containers at deployment time via Docker <code>-e</code> flag</li><li>Also passed as <code>--build-arg</code> during image builds</li><li>Visible in <code>docker inspect</code> output on the host</li></ul><div class="warning custom-block"><p class="custom-block-title">Secrets Visibility</p><p>Environment variables are:</p><ul><li><strong>Stored in plaintext</strong> in the database</li><li><strong>Visible to anyone</strong> with access to the Mist database or Docker host</li><li><strong>Passed to build process</strong> (avoid using secrets during build)</li></ul><p><strong>Upcoming</strong>: Secret encryption at rest and secret management integration (Vault, AWS Secrets Manager)</p></div><p><strong>Minimize Secret Exposure:</strong></p><ol><li><p><strong>Don&#39;t use secrets in Dockerfile ARG</strong>: They&#39;re stored in image layers</p><div class="language-dockerfile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dockerfile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># BAD - Secret visible in image history</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ARG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> API_KEY</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> curl -H </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Authorization: $API_KEY&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://api.example.com/setup</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># GOOD - Fetch at runtime</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CMD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> node app.js  # App reads API_KEY from process.env at runtime</span></span></code></pre></div></li><li><p><strong>Use secret management for databases</strong>: Connect to external secret managers at runtime</p></li><li><p><strong>Limit access</strong>: Only give secrets to apps that need them</p></li></ol><h3 id="audit-logging" tabindex="-1">Audit Logging <a class="header-anchor" href="#audit-logging" aria-label="Permalink to &quot;Audit Logging&quot;">​</a></h3><p>Mist tracks important actions in the audit log:</p><p><strong>What&#39;s Logged:</strong></p><ul><li>User authentication (login/logout)</li><li>Application creation/deletion</li><li>Deployments</li><li>Domain changes</li><li>Environment variable changes</li><li>Project member changes</li><li>System settings changes</li></ul><p><strong>Access Audit Logs:</strong></p><ul><li>Navigate to <strong>Settings → Audit Logs</strong> in the UI</li><li>Or query database: <code>SELECT * FROM audit_logs ORDER BY created_at DESC LIMIT 100</code></li></ul><p><strong>Security Monitoring:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># View recent audit logs via database</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sqlite3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/mist/mist.db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;SELECT user_id, action, resource_type, created_at FROM audit_logs ORDER BY created_at DESC LIMIT 50;&quot;</span></span></code></pre></div><p><strong>What to Monitor:</strong></p><ul><li>Failed login attempts (possible brute force)</li><li>Unusual deployment times (after hours activity)</li><li>Unexpected user creations</li><li>Permission changes</li><li>Bulk deletions</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Set up alerts for critical actions (coming soon). For now, periodically review audit logs manually.</p></div><h2 id="monitoring-incident-response" tabindex="-1">Monitoring &amp; Incident Response <a class="header-anchor" href="#monitoring-incident-response" aria-label="Permalink to &quot;Monitoring &amp; Incident Response&quot;">​</a></h2><h3 id="log-monitoring" tabindex="-1">Log Monitoring <a class="header-anchor" href="#log-monitoring" aria-label="Permalink to &quot;Log Monitoring&quot;">​</a></h3><p>Monitor system and application logs for security events:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Watch Mist backend logs in real-time</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> journalctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mist</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Filter for authentication events</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> journalctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mist</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;login\\|auth\\|failed&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Watch Traefik access logs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> traefik</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Monitor all Docker container activity</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> events</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check for unauthorized container creation</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;table {{.ID}}\\t{{.Names}}\\t{{.CreatedAt}}&quot;</span></span></code></pre></div><h3 id="system-monitoring" tabindex="-1">System Monitoring <a class="header-anchor" href="#system-monitoring" aria-label="Permalink to &quot;System Monitoring&quot;">​</a></h3><p>Monitor resource usage for anomalies:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Monitor disk space (database growth, logs, containers)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">df</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">du</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/mist/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> system</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> df</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Monitor memory usage</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">free</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stats</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-stream</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Monitor CPU usage</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">top</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -bn1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> head</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -20</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check Docker daemon resource usage</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> aux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerd</span></span></code></pre></div><h3 id="security-alerts" tabindex="-1">Security Alerts <a class="header-anchor" href="#security-alerts" aria-label="Permalink to &quot;Security Alerts&quot;">​</a></h3><p>Set up alerts for critical events (manual for now, automated coming soon):</p><p><strong>Monitor for:</strong></p><ul><li>Multiple failed login attempts</li><li>Unusual deployment times</li><li>High resource usage (potential crypto mining)</li><li>New user creations</li><li>Permission escalations</li><li>Database file modifications</li><li>Firewall rule changes</li></ul><p><strong>Simple alerting script example:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># /usr/local/bin/mist-security-alert.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check for failed logins in last hour</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FAILED_LOGINS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> journalctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mist</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --since</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;1 hour ago&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;authentication failed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ $FAILED_LOGINS </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-gt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;WARNING: </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$FAILED_LOGINS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> failed login attempts in the last hour&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    mail</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Mist Security Alert&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> admin@example.com</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check database size growth (possible data exfiltration)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_SIZE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">stat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f%z</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/mist/mist.db</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> 2&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/dev/null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> stat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c%s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/mist/mist.db</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ $DB_SIZE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-gt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1073741824</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 1GB</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;WARNING: Database size exceeds 1GB&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    mail</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Mist Database Alert&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> admin@example.com</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span></code></pre></div><h3 id="incident-response" tabindex="-1">Incident Response <a class="header-anchor" href="#incident-response" aria-label="Permalink to &quot;Incident Response&quot;">​</a></h3><p>If you suspect a security incident:</p><ol><li><p><strong>Isolate</strong>: Stop Mist and Traefik immediately</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mist</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/mist/traefik-compose.yml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span></span></code></pre></div></li><li><p><strong>Preserve Evidence</strong>: Backup current state before changes</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sqlite3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/mist/mist.db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;.backup /tmp/incident_db_$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +%Y%m%d_%H%M%S).db&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> journalctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mist</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/incident_logs_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +%Y%m%d_%H%M%S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.log</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/incident_containers_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +%Y%m%d_%H%M%S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.txt</span></span></code></pre></div></li><li><p><strong>Investigate</strong>: Check audit logs, system logs, container logs</p></li><li><p><strong>Remediate</strong>: Change passwords, rotate secrets, patch vulnerabilities</p></li><li><p><strong>Restore</strong>: From clean backup if compromised</p></li><li><p><strong>Report</strong>: If vulnerability in Mist itself, report to maintainers</p></li></ol><h2 id="coming-soon" tabindex="-1">Coming Soon <a class="header-anchor" href="#coming-soon" aria-label="Permalink to &quot;Coming Soon&quot;">​</a></h2><p>The following security features are planned for future releases:</p><p><strong>Authentication &amp; Authorization:</strong></p><ul><li>Two-Factor Authentication (TOTP/WebAuthn)</li><li>SSO/SAML integration</li><li>OAuth2 provider support</li><li>API key management with scopes</li><li>Session management (force logout, view active sessions)</li></ul><p><strong>Secrets Management:</strong></p><ul><li>Environment variable encryption at rest</li><li>Integration with HashiCorp Vault</li><li>AWS Secrets Manager integration</li><li>Secret rotation policies</li><li>Secret scanning in code repositories</li></ul><p><strong>Network Security:</strong></p><ul><li>Rate limiting per IP/user</li><li>IP whitelisting for admin access</li><li>Custom security headers (CSP, HSTS, X-Frame-Options)</li><li>Web Application Firewall (WAF) integration</li><li>DDoS protection configuration</li></ul><p><strong>Application Security:</strong></p><ul><li>Automated vulnerability scanning for Docker images</li><li>Security policy enforcement (required base images, etc.)</li><li>Container resource limits (CPU, memory, network)</li><li>Read-only container filesystems</li><li>Seccomp profiles and AppArmor</li></ul><p><strong>Monitoring &amp; Compliance:</strong></p><ul><li>Security dashboard and metrics</li><li>Automated security alerts (email, Slack, webhook)</li><li>Compliance reporting (SOC 2, ISO 27001)</li><li>Security audit trail export</li><li>Real-time threat detection</li></ul><p><strong>Data Protection:</strong></p><ul><li>Database encryption at rest</li><li>Backup encryption by default</li><li>Automated backup integrity verification</li><li>Point-in-time recovery</li><li>Data retention policies</li></ul><h2 id="security-checklist" tabindex="-1">Security Checklist <a class="header-anchor" href="#security-checklist" aria-label="Permalink to &quot;Security Checklist&quot;">​</a></h2><p>Use this checklist to ensure your Mist installation is properly secured:</p><h3 id="server-security-1" tabindex="-1">Server Security <a class="header-anchor" href="#server-security-1" aria-label="Permalink to &quot;Server Security&quot;">​</a></h3><ul><li>[ ] Firewall configured and enabled (UFW/iptables)</li><li>[ ] Only necessary ports open (22, 80, 443, 8080, 8081)</li><li>[ ] Mist API (8080) and Traefik dashboard (8081) restricted to localhost or specific IPs</li><li>[ ] SSH hardened (key-only auth, no root login)</li><li>[ ] Automatic security updates enabled</li><li>[ ] System packages up to date</li><li>[ ] Disk encryption enabled (optional but recommended for sensitive data)</li></ul><h3 id="mist-security-1" tabindex="-1">Mist Security <a class="header-anchor" href="#mist-security-1" aria-label="Permalink to &quot;Mist Security&quot;">​</a></h3><ul><li>[ ] Strong passwords enforced for all users (12+ characters)</li><li>[ ] Owner account uses extremely strong password</li><li>[ ] JWT secret changed from hardcoded value (requires code modification)</li><li>[ ] GitHub webhook secret configured and validated</li><li>[ ] Regular security updates applied to Mist</li></ul><h3 id="docker-security-1" tabindex="-1">Docker Security <a class="header-anchor" href="#docker-security-1" aria-label="Permalink to &quot;Docker Security&quot;">​</a></h3><ul><li>[ ] Mist running as non-root user</li><li>[ ] User in docker group (but aware of security implications)</li><li>[ ] Docker socket permissions restricted (660)</li><li>[ ] Containers use official base images only</li><li>[ ] Images periodically scanned for vulnerabilities</li><li>[ ] Unnecessary containers removed regularly</li></ul><h3 id="database-security-1" tabindex="-1">Database Security <a class="header-anchor" href="#database-security-1" aria-label="Permalink to &quot;Database Security&quot;">​</a></h3><ul><li>[ ] Database file permissions locked down (600)</li><li>[ ] Database owned by correct user (not root)</li><li>[ ] Automated backups configured</li><li>[ ] Backups stored securely (encrypted and offsite)</li><li>[ ] Backup restoration tested regularly</li></ul><h3 id="network-security-1" tabindex="-1">Network Security <a class="header-anchor" href="#network-security-1" aria-label="Permalink to &quot;Network Security&quot;">​</a></h3><ul><li>[ ] SSL/TLS enabled for all public domains</li><li>[ ] Certificates automatically renewing</li><li>[ ] HTTP automatically redirects to HTTPS</li><li>[ ] Traefik dashboard access restricted</li><li>[ ] No application ports exposed directly (all through Traefik)</li></ul><h3 id="application-security-1" tabindex="-1">Application Security <a class="header-anchor" href="#application-security-1" aria-label="Permalink to &quot;Application Security&quot;">​</a></h3><ul><li>[ ] No secrets committed to Git repositories</li><li>[ ] Environment variables contain only necessary data</li><li>[ ] Secrets rotated regularly (90 days)</li><li>[ ] Audit logs reviewed periodically</li><li>[ ] Suspicious activity monitored</li></ul><h3 id="monitoring-response" tabindex="-1">Monitoring &amp; Response <a class="header-anchor" href="#monitoring-response" aria-label="Permalink to &quot;Monitoring &amp; Response&quot;">​</a></h3><ul><li>[ ] Log monitoring configured</li><li>[ ] Disk space alerts set up</li><li>[ ] Resource usage monitored</li><li>[ ] Incident response plan documented</li><li>[ ] Emergency contacts updated</li></ul><h3 id="compliance-if-applicable" tabindex="-1">Compliance (if applicable) <a class="header-anchor" href="#compliance-if-applicable" aria-label="Permalink to &quot;Compliance (if applicable)&quot;">​</a></h3><ul><li>[ ] Data retention policy defined</li><li>[ ] User data handling documented</li><li>[ ] Privacy policy published</li><li>[ ] Terms of service published</li><li>[ ] GDPR/compliance requirements met</li></ul><h2 id="reporting-security-issues" tabindex="-1">Reporting Security Issues <a class="header-anchor" href="#reporting-security-issues" aria-label="Permalink to &quot;Reporting Security Issues&quot;">​</a></h2><p>Found a security vulnerability in Mist?</p><p><strong>Please report responsibly:</strong></p><ol><li><strong>DO NOT</strong> open a public GitHub issue for security vulnerabilities</li><li><strong>DO</strong> report via <a href="https://github.com/trymist/mist/security/advisories/new" target="_blank" rel="noreferrer">GitHub Security Advisories</a></li><li>Include: <ul><li>Description of the vulnerability</li><li>Steps to reproduce</li><li>Potential impact</li><li>Suggested fix (if any)</li></ul></li></ol><p><strong>We will:</strong></p><ul><li>Acknowledge receipt within 48 hours</li><li>Provide estimated fix timeline</li><li>Credit you in security advisory (if desired)</li><li>Keep you updated on progress</li></ul><p>Thank you for helping keep Mist secure!</p>`,148)])])}const g=i(t,[["render",l]]);export{c as __pageData,g as default};
