import{_ as i,c as e,o as s,ae as n}from"./chunks/framework.CDjunVez.js";const u=JSON.parse('{"title":"Database Services","description":"","frontmatter":{},"headers":[],"relativePath":"docs/guide/databases.md","filePath":"docs/guide/databases.md"}'),t={name:"docs/guide/databases.md"};function o(l,a,r,p,c,d){return s(),e("div",null,[...a[0]||(a[0]=[n(`<h1 id="database-services" tabindex="-1">Database Services <a class="header-anchor" href="#database-services" aria-label="Permalink to &quot;Database Services&quot;">â€‹</a></h1><p>One-click database provisioning for your applications.</p><p>Mist provides managed database services through pre-configured Docker templates, allowing you to quickly deploy databases without manual configuration.</p><h2 id="available-databases" tabindex="-1">Available Databases <a class="header-anchor" href="#available-databases" aria-label="Permalink to &quot;Available Databases&quot;">â€‹</a></h2><h3 id="postgresql" tabindex="-1">PostgreSQL <a class="header-anchor" href="#postgresql" aria-label="Permalink to &quot;PostgreSQL&quot;">â€‹</a></h3><ul><li>Latest PostgreSQL version</li><li>Pre-configured with recommended settings</li><li>Automatic environment variable setup</li><li>Internal network access via <code>app-{appId}</code> hostname</li><li>Template-driven CPU and memory limits</li></ul><h3 id="mysql" tabindex="-1">MySQL <a class="header-anchor" href="#mysql" aria-label="Permalink to &quot;MySQL&quot;">â€‹</a></h3><ul><li>Latest MySQL version</li><li>Optimized configuration</li><li>User and password management via environment variables</li><li>Internal network connectivity</li></ul><h3 id="mariadb" tabindex="-1">MariaDB <a class="header-anchor" href="#mariadb" aria-label="Permalink to &quot;MariaDB&quot;">â€‹</a></h3><ul><li>MySQL-compatible database</li><li>Drop-in replacement for MySQL</li><li>Same connection interface</li></ul><h3 id="redis" tabindex="-1">Redis <a class="header-anchor" href="#redis" aria-label="Permalink to &quot;Redis&quot;">â€‹</a></h3><ul><li>In-memory data store and cache</li><li>Latest Redis version</li><li>Password protection via environment variables</li><li>Pub/sub and caching support</li></ul><h3 id="mongodb" tabindex="-1">MongoDB <a class="header-anchor" href="#mongodb" aria-label="Permalink to &quot;MongoDB&quot;">â€‹</a></h3><ul><li>Document-oriented database</li><li>Latest MongoDB version</li><li>User authentication support</li><li>Internal DNS resolution</li></ul><h2 id="creating-a-database" tabindex="-1">Creating a Database <a class="header-anchor" href="#creating-a-database" aria-label="Permalink to &quot;Creating a Database&quot;">â€‹</a></h2><ol><li>Navigate to your project</li><li>Click <strong>&quot;New Application&quot;</strong></li><li>Select <strong>&quot;Database&quot;</strong> type</li><li>Choose your database template: <ul><li>PostgreSQL</li><li>MySQL</li><li>MariaDB</li><li>Redis</li><li>MongoDB</li></ul></li><li>Enter instance name and description</li><li>Configure environment variables (passwords, database names)</li><li>Click <strong>&quot;Create&quot;</strong></li></ol><p>The database will be provisioned automatically with:</p><ul><li>Pre-configured port from template</li><li>Recommended CPU and memory limits</li><li>Default environment variables</li><li>Connected to <code>traefik-net</code> network</li></ul><h2 id="connecting-to-databases" tabindex="-1">Connecting to Databases <a class="header-anchor" href="#connecting-to-databases" aria-label="Permalink to &quot;Connecting to Databases&quot;">â€‹</a></h2><h3 id="from-your-applications" tabindex="-1">From Your Applications <a class="header-anchor" href="#from-your-applications" aria-label="Permalink to &quot;From Your Applications&quot;">â€‹</a></h3><p>Databases are accessible via internal hostname using the format <code>app-{appId}</code>:</p><p><strong>Example Connection Strings:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># PostgreSQL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DATABASE_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">postgresql://user:password@app-123:5432/myapp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># MySQL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DATABASE_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mysql://root:password@app-124:3306/myapp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Redis</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">REDIS_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">redis://:password@app-125:6379</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># MongoDB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MONGODB_URI</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mongodb://admin:password@app-126:27017/myapp</span></span></code></pre></div><p>Replace <code>app-{appId}</code> with your actual database application ID shown in the dashboard.</p><h3 id="configuration-via-environment-variables" tabindex="-1">Configuration via Environment Variables <a class="header-anchor" href="#configuration-via-environment-variables" aria-label="Permalink to &quot;Configuration via Environment Variables&quot;">â€‹</a></h3><p>Add connection details to your web/service application&#39;s environment variables:</p><ol><li>Go to your application&#39;s <strong>Environment</strong> tab</li><li>Add database connection variables</li><li>Use the database&#39;s container name (<code>app-{appId}</code>)</li><li>Deploy your application</li></ol><h2 id="database-management" tabindex="-1">Database Management <a class="header-anchor" href="#database-management" aria-label="Permalink to &quot;Database Management&quot;">â€‹</a></h2><h3 id="environment-variables" tabindex="-1">Environment Variables <a class="header-anchor" href="#environment-variables" aria-label="Permalink to &quot;Environment Variables&quot;">â€‹</a></h3><p>Configure your database through environment variables:</p><p><strong>PostgreSQL:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>POSTGRES_USER=myuser</span></span>
<span class="line"><span>POSTGRES_PASSWORD=mypassword</span></span>
<span class="line"><span>POSTGRES_DB=mydatabase</span></span></code></pre></div><p><strong>MySQL:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>MYSQL_ROOT_PASSWORD=rootpassword</span></span>
<span class="line"><span>MYSQL_DATABASE=mydatabase</span></span>
<span class="line"><span>MYSQL_USER=myuser</span></span>
<span class="line"><span>MYSQL_PASSWORD=mypassword</span></span></code></pre></div><p><strong>MongoDB:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>MONGO_INITDB_ROOT_USERNAME=admin</span></span>
<span class="line"><span>MONGO_INITDB_ROOT_PASSWORD=password</span></span></code></pre></div><p><strong>Redis:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>REDIS_PASSWORD=yourpassword</span></span></code></pre></div><h3 id="resource-limits" tabindex="-1">Resource Limits <a class="header-anchor" href="#resource-limits" aria-label="Permalink to &quot;Resource Limits&quot;">â€‹</a></h3><p>Template-based defaults are applied:</p><ul><li><strong>CPU</strong>: 1.0 cores (adjustable)</li><li><strong>Memory</strong>: 512MB (adjustable)</li><li><strong>Restart Policy</strong>: unless-stopped</li></ul><p>You can modify these in the application settings.</p><h3 id="container-management" tabindex="-1">Container Management <a class="header-anchor" href="#container-management" aria-label="Permalink to &quot;Container Management&quot;">â€‹</a></h3><ul><li><strong>Start/Stop</strong>: Control database lifecycle from dashboard</li><li><strong>Restart</strong>: Restart database containers</li><li><strong>Logs</strong>: View database logs in real-time</li><li><strong>Status</strong>: Monitor container state and uptime</li></ul><h2 id="networking" tabindex="-1">Networking <a class="header-anchor" href="#networking" aria-label="Permalink to &quot;Networking&quot;">â€‹</a></h2><p>All databases are connected to the <code>traefik-net</code> network:</p><ul><li>Internal DNS resolution</li><li>Accessible by container name (<code>app-{appId}</code>)</li><li>Isolated from public internet</li><li>Secure inter-container communication</li></ul><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">â€‹</a></h2><h3 id="security" tabindex="-1">Security <a class="header-anchor" href="#security" aria-label="Permalink to &quot;Security&quot;">â€‹</a></h3><ul><li><strong>Strong Passwords</strong>: Use complex passwords for database users</li><li><strong>Environment Variables</strong>: Never hardcode credentials</li><li><strong>Least Privilege</strong>: Create database users with minimal required permissions</li><li><strong>Network Isolation</strong>: Databases are not exposed externally by default</li></ul><h3 id="performance" tabindex="-1">Performance <a class="header-anchor" href="#performance" aria-label="Permalink to &quot;Performance&quot;">â€‹</a></h3><ul><li><strong>Resource Allocation</strong>: Monitor usage and adjust CPU/memory limits</li><li><strong>Connection Pooling</strong>: Use connection pools in your applications</li><li><strong>Indexing</strong>: Create appropriate indexes for query performance</li><li><strong>Monitoring</strong>: Check logs regularly for errors or warnings</li></ul><h3 id="backup" tabindex="-1">Backup <a class="header-anchor" href="#backup" aria-label="Permalink to &quot;Backup&quot;">â€‹</a></h3><div class="warning custom-block"><p class="custom-block-title">Manual Backups Required</p><p>Automatic backup scheduling is not yet available. Manually backup your databases regularly using database-specific tools.</p></div><p><strong>Backup Methods:</strong></p><p><strong>PostgreSQL:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app-{appId}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pg_dump</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dbname</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backup.sql</span></span></code></pre></div><p><strong>MySQL:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app-{appId}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysqldump</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dbname</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backup.sql</span></span></code></pre></div><p><strong>MongoDB:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app-{appId}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mongodump</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /backup</span></span></code></pre></div><h2 id="coming-soon" tabindex="-1">Coming Soon <a class="header-anchor" href="#coming-soon" aria-label="Permalink to &quot;Coming Soon&quot;">â€‹</a></h2><div class="coming-soon-banner"><h4>ðŸš§ Upcoming Features</h4></div><ul><li><strong>External Access</strong> - Public database access with security controls</li><li><strong>Management UIs</strong> - Built-in admin interfaces (pgAdmin, phpMyAdmin, Mongo Express, Redis Commander)</li><li><strong>Automated Backups</strong> - Scheduled backup and restore</li><li><strong>Connection Pooling</strong> - Optimize database connections</li><li><strong>Replication</strong> - High availability setups</li><li><strong>Multiple Versions</strong> - Choose specific database versions</li><li><strong>Volume Management</strong> - Persistent volume configuration</li><li><strong>Database Cloning</strong> - Duplicate databases for staging/testing</li><li><strong>Performance Metrics</strong> - Database-specific monitoring</li><li><strong>Auto-Configuration</strong> - Automatic environment variable injection to apps</li></ul><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">â€‹</a></h2><h3 id="connection-refused" tabindex="-1">Connection Refused <a class="header-anchor" href="#connection-refused" aria-label="Permalink to &quot;Connection Refused&quot;">â€‹</a></h3><ul><li>Verify database container is running</li><li>Check container logs for errors</li><li>Ensure correct hostname format (<code>app-{appId}</code>)</li><li>Verify port matches database default</li></ul><h3 id="authentication-failed" tabindex="-1">Authentication Failed <a class="header-anchor" href="#authentication-failed" aria-label="Permalink to &quot;Authentication Failed&quot;">â€‹</a></h3><ul><li>Check environment variables are set correctly</li><li>Verify username and password</li><li>Ensure database user has been created</li><li>Check database logs for auth errors</li></ul><h3 id="application-can-t-connect" tabindex="-1">Application Can&#39;t Connect <a class="header-anchor" href="#application-can-t-connect" aria-label="Permalink to &quot;Application Can&#39;t Connect&quot;">â€‹</a></h3><ul><li>Verify both containers are on <code>traefik-net</code> network</li><li>Check firewall rules aren&#39;t blocking internal traffic</li><li>Test connection from application container logs</li><li>Verify DNS resolution of container name</li></ul><h2 id="related-documentation" tabindex="-1">Related Documentation <a class="header-anchor" href="#related-documentation" aria-label="Permalink to &quot;Related Documentation&quot;">â€‹</a></h2><ul><li><a href="./applications.html">Applications</a> - Application types and management</li><li><a href="./environment-variables.html">Environment Variables</a> - Managing configuration</li><li><a href="./applications.html#service-templates">Service Templates</a> - How templates work</li></ul>`,73)])])}const g=i(t,[["render",o]]);export{u as __pageData,g as default};
